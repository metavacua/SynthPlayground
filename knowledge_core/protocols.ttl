@prefix proto: <https://factory.ai/ns/protocol/> .
@prefix schema: <https://schema.org/> .

<file:///app/protocols/agent-bootstrap-001> proto:associatedTool <file:///app/protocols/read_file> ;
    proto:hasRule <file:///app/protocols/bootstrap-load-agents-md> ;
    schema:description "A foundational protocol that dictates the agent's initial actions upon starting any task." .

<file:///app/protocols/dependency-management-001> proto:associatedTool <file:///app/protocols/run_in_bash_session> ;
    proto:hasRule <file:///app/protocols/dependency-install-on-start> ;
    schema:description "A protocol for ensuring a reliable execution environment through formal dependency management." .

<file:///app/protocols/toolchain-review-on-schema-change-001> proto:associatedTool <file:///app/protocols/tooling/hierarchical_compiler.py>,
        <file:///app/protocols/tooling/protocol_auditor.py>,
        <file:///app/protocols/tooling/protocol_compiler.py> ;
    proto:hasRule <file:///app/protocols/toolchain-audit-on-schema-change> ;
    schema:description "A meta-protocol to ensure the agent's toolchain remains synchronized with the architecture of its governing protocols." .

<file:///app/protocols/bootstrap-load-agents-md> proto:enforcement "This rule is enforced by the agent's core startup logic. The agent must verify the load of AGENTS.md before proceeding to the planning phase." ;
    schema:description "Upon initialization for any task, the agent's first and highest-priority action must be to locate, read, and parse the AGENTS.md file in the repository root. This ensures the agent is properly contextualized before any planning or execution begins." .

<file:///app/protocols/dependency-install-on-start> proto:enforcement "The agent's core startup logic should be designed to execute `pip install -r requirements.txt` as one of its initial actions." ;
    schema:description "Upon starting a task, after loading AGENTS.md, the agent MUST install all required Python packages listed in the `requirements.txt` file. This ensures the environment is correctly configured before any other tools are executed." .

<file:///app/protocols/toolchain-audit-on-schema-change> proto:enforcement "This is a procedural rule for any agent developing the protocol system. Adherence can be partially checked by post-commit hooks or review processes that look for a tooling audit in any change that modifies the specified core files." ;
    schema:description "If a change is made to the core protocol schema (`protocol.schema.json`) or to the compilers that process it (`protocol_compiler.py`, `hierarchical_compiler.py`), a formal audit of the entire `tooling/` directory MUST be performed as a subsequent step. This audit should verify that all tools are compatible with the new protocol structure." .

