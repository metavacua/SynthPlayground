'@context':
  rdf: http://www.w3.org/1999/02/22-rdf-syntax-ns#
  rdfs: http://www.w3.org/2000/01/rdf-schema#
  xsd: http://www.w3.org/2001/XMLSchema#
  schema: https://schema.org/
  dct: http://purl.org/dc/terms/
  proto: https://factory.ai/ns/protocol/
  protocol_id: '@id'
  name: schema:name
  description: schema:description
  version: schema:version
  scope: proto:scope
  agents: proto:agents
  files: proto:files
  rules: proto:hasRule
  rule_id: '@id'
  enforcement: proto:enforcement
  implementation: proto:implementation
  type: '@type'
  patterns: proto:hasPattern
  flags: proto:flags
  details: rdfs:comment
  associated_tools:
    '@id': proto:associatedTool
    '@type': '@id'
protocol_id: self-correction-protocol-001
description: Defines the automated, closed-loop workflow for protocol self-correction.
rules:
- rule_id: structured-lessons
  description: Lessons learned from post-mortem analysis must be generated as structured,
    machine-readable JSON objects in `knowledge_core/lessons.jsonl`.
  enforcement: The `tooling/knowledge_compiler.py` script is responsible for generating
    lessons in the correct format.
- rule_id: programmatic-updates
  description: All modifications to protocol source files must be performed programmatically
    via the `tooling/protocol_updater.py` tool to ensure consistency and prevent manual
    errors.
  enforcement: Agent's core logic should be designed to use this tool for all protocol
    modifications.
- rule_id: automated-orchestration
  description: The self-correction cycle must be managed by the `tooling/self_correction_orchestrator.py`
    script, which processes pending lessons and triggers the necessary updates.
  enforcement: This script is the designated engine for the PDSC workflow.
- rule_id: programmatic-rule-refinement
  description: The self-correction system can modify the description of existing protocol
    rules via the `update-rule` command in `tooling/protocol_updater.py`, allowing
    it to refine its own logic.
  enforcement: The `tooling/knowledge_compiler.py` can generate `update-rule` actions,
    and the `tooling/self_correction_orchestrator.py` executes them.
- rule_id: autonomous-code-suggestion
  description: The self-correction system can generate and apply code changes to its
    own tooling. This is achieved through a `PROPOSE_CODE_CHANGE` action, which is
    processed by `tooling/code_suggester.py` to create an executable plan.
  enforcement: The `tooling/self_correction_orchestrator.py` invokes the code suggester
    when it processes a lesson of this type.
associated_tools:
- tooling/knowledge_compiler.py
- tooling/protocol_updater.py
- tooling/self_correction_orchestrator.py
- tooling/code_suggester.py
- initiate_memory_recording
associated_artifacts:
- knowledge_core/lessons.jsonl
version: 1.0.0
