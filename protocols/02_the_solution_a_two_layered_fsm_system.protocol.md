## 2. The Solution: A Two-Layered FSM System