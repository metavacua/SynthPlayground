{
  "protocol_id": "unified-doc-builder-001",
  "description": "A protocol for the unified documentation builder, which generates various documentation artifacts from the repository's sources of truth.\n\n**Associated Tool Documentation (`tooling/doc_builder.py`):**\n\n  \n  ### `/app/tooling/doc_builder.py`\n  A unified documentation builder for the project.\n  ...\n  \n  **Public Functions:**\n  \n  - #### `def find_python_files(directories)`\n  \n  - #### `def format_args(args)`\n  \n  - #### `def generate_documentation_for_module(mod_doc)`\n  \n  - #### `def generate_pages(readme_path, agents_md_path, output_file)`\n    > Generates the index.html for GitHub Pages.\n  \n  - #### `def generate_readme(agents_md_path, output_file)`\n    > Generates the high-level README.md for a module.\n  \n  - #### `def generate_system_docs(source_dirs, output_file)`\n    > Generates the detailed SYSTEM_DOCUMENTATION.md.\n  \n  - #### `def get_module_docstring(filepath)`\n    > Parses a Python file and extracts its module-level docstring.\n  \n  - #### `def get_protocol_summary(agents_md_path)`\n    > Parses an AGENTS.md file and extracts a list of protocol summaries.\n  \n  - #### `def main()`\n  \n  - #### `def parse_file_for_docs(filepath)`\n  \n  \n  **Public Classes:**\n  \n  - #### `class ClassDoc`\n  \n    **Methods:**\n    - ##### `def __init__(self, name, docstring, methods)`\n  \n  - #### `class DocVisitor`\n  \n    **Methods:**\n    - ##### `def __init__(self)`\n    - ##### `def visit_ClassDef(self, node)`\n    - ##### `def visit_FunctionDef(self, node)`\n  \n  - #### `class FunctionDoc`\n  \n    **Methods:**\n    - ##### `def __init__(self, name, signature, docstring)`\n  \n  - #### `class ModuleDoc`\n  \n    **Methods:**\n    - ##### `def __init__(self, name, docstring, classes, functions)`\n",
  "rules": [
    {
      "rule_id": "use-doc-builder-for-all-docs",
      "description": "The `doc_builder.py` script is the single entry point for generating all user-facing documentation, including system-level docs, README files, and GitHub Pages. It should be called with the appropriate '--format' argument.",
      "enforcement": "The tool is invoked via the command line, typically through the `make docs`, `make readme`, or `make pages` targets."
    }
  ],
  "associated_tools": [
    "tooling/doc_builder.py"
  ]
}