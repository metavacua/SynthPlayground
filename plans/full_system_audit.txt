# Plan: Full System Audit
# This plan automates a comprehensive audit of the repository.

# Step 1: Ensure all dependencies are installed.
run_in_bash_session
make install

# Step 2: Run the protocol auditor to check for protocol drift.
run_in_bash_session
python tooling/protocol_auditor.py

# Step 3: If AGENTS.md is out of sync, rebuild all artifacts.
# This is a conditional step that a more advanced agent could perform.
# For now, we will assume a human reviews the output of the previous step.
# As a safety measure, we will run the build anyway.
run_in_bash_session
make build

# Step 4: Run the plan registry auditor to check for dead links.
run_in_bash_session
python tooling/plan_registry_auditor.py

# Step 5: Run the self-improvement CLI to check for process failures.
run_in_bash_session
python tooling/self_improvement_cli.py

# Step 6: Display the final audit report.
read_file
audit_report.md