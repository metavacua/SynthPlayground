# ---
# DO NOT EDIT THIS FILE DIRECTLY.
# This file is programmatically generated by the `protocol_compiler.py` script.
# All changes to agent protocols must be made in the source files
# located in the `protocols/` directory.
#
# This file contains the compiled protocols in a human-readable Markdown format,
# with machine-readable JSON definitions embedded.
# ---


```json
{
  "protocol_id": "critic-meta-protocol-001",
  "description": "A meta-protocol that governs the behavior and evaluation criteria of the Code Review Critic agent.",
  "rules": [
    {
      "rule_id": "protocol-as-source-code",
      "description": "The `protocols/` directory and all its contents (`.md`, `.json` files) MUST be treated as functional source code. Changes to these files directly alter the agent's operational capabilities and governing rules.",
      "enforcement": "The Code Review Critic must analyze changes in this directory with the same rigor as changes to `.py` files."
    },
    {
      "rule_id": "built-in-tools-are-valid",
      "description": "The agent's execution environment provides a set of built-in tools (e.g., `read_file`, `delete_file`, `pre_commit_instructions`). The implementation of these tools does not reside within the repository. A protocol change that adds a built-in tool to the `associated_tools` list is a valid and complete functional change.",
      "enforcement": "The Code Review Critic must not flag a change as 'incomplete' or 'non-functional' solely because the implementation of a built-in tool is not present in the repository."
    },
    {
      "rule_id": "functional-change-definition",
      "description": "A change is considered 'functional' if it correctly modifies the agent's operational rules or capabilities, as defined by the combination of Python source code and the protocol source files in `protocols/`.",
      "enforcement": "The Code Review Critic's evaluation of 'functionality' must encompass both traditional code and protocol definitions."
    }
  ]
}
```

---

# Meta-Protocol: Code Review Critic Evaluation Context

This protocol governs the behavior of the Code Review Critic agent. Its purpose is to provide the critic with the necessary context to perform accurate and helpful evaluations of changes made by other agents.

## Rule: Protocols are Functional Source Code

The `protocols/` directory is not just documentation; it is a core part of the agent's functional definition. The `.json` and `.md` files within this directory define the rules, capabilities, and constraints that govern the agent's behavior. Therefore, any changes to these files must be treated as **functional source code** and reviewed with the same level of scrutiny as changes to Python scripts.

## Rule: Built-in Tools are Valid Dependencies

The agent possesses a set of core, built-in tools provided by its execution environment (e.g., `read_file`, `list_files`, `submit`, `pre_commit_instructions`). The source code for these tools does not reside within this repository.

When a protocol is modified to include one of these built-in tools in its `associated_tools` list, this constitutes a valid and complete functional change. It is an act of formally bringing an existing capability under the governance of a protocol. Such a change **must not** be flagged as "incomplete" simply because the tool's implementation is not included in the patch.

## Rule: Definition of a "Functional Change"

A change should be considered "functional" if it correctly modifies the agent's operational capabilities. This is determined by the combined state of the Python source code *and* the protocol source files. The critic's evaluation must consider both aspects to form a complete picture of the change's impact.

## Rule: Adherence to Specific Prohibitions

The critic must be aware of and strictly adhere to all specific prohibition protocols. This includes, but is not limited to, the `critic-reset-prohibition-001` protocol, which forbids the use of the `reset_all` tool. The critic's primary function is analysis, not destructive action.


---

```json
{
  "protocol_id": "critic-reset-prohibition-001",
  "description": "A specific, high-priority protocol that forbids the Code Review Critic agent from using the 'reset_all' tool.",
  "rules": [
    {
      "rule_id": "critic-no-reset",
      "description": "The agent role-playing as the 'Code Review Critic' is explicitly forbidden from invoking the 'reset_all' tool under any circumstances. This is a critical safeguard to prevent the loss of work during the review process.",
      "enforcement": "This rule is enforced by its inclusion in the compiled AGENTS.md, which serves as the context for the Code Review Critic. The critic must be programmed to parse and adhere to this prohibition."
    }
  ],
  "associated_tools": [
    "reset_all"
  ]
}
```

---

# Protocol: Critic `reset_all` Prohibition

This protocol establishes a critical safeguard to protect the integrity of the development workflow.

## Rule: `critic-no-reset`

The agent assigned the role of 'Code Review Critic' is explicitly and strictly forbidden from using the `reset_all` tool.

**Rationale:** The `reset_all` tool is a destructive action that reverts all changes in the workspace. Its use by a review agent could lead to the accidental deletion of work-in-progress, creating a significant disruption. This protocol ensures that the critic's function is limited to analysis and feedback, preventing it from taking destructive actions.

This prohibition is non-negotiable and must be adhered to by any agent assuming the 'Code Review Critic' role.

**Enforcement Mechanism:** The Code Review Critic is not implemented in this repository. Its behavior is governed by the compiled `AGENTS.md` file, which is consumed by an external orchestration system. The inclusion of this protocol in `AGENTS.md` constitutes the complete implementation of this safeguard from the perspective of this codebase.

---
